"use strict";window.onload=function(){var e=document.querySelectorAll(".paty-add"),t=document.querySelectorAll(".plus-bt"),n=document.querySelectorAll(".more-bt"),r=document.querySelectorAll(".paty-text"),a=document.querySelectorAll(".next-box"),s=1,o=1,i=!0,c=!1,l=void 0;try{for(var u,d=e[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){u.value.setAttribute("id","tag"+s);s++}}catch(e){c=!0,l=e}finally{try{!i&&d.return&&d.return()}finally{if(c)throw l}}var v=!0,f=!1,p=void 0;try{for(var h,y=t[Symbol.iterator]();!(v=(h=y.next()).done);v=!0){h.value.setAttribute("data-id","tag"+o);o++}}catch(e){f=!0,p=e}finally{try{!v&&y.return&&y.return()}finally{if(f)throw p}}var g=function(t){t.addEventListener("click",function(n){n.preventDefault(),t.classList.toggle("pressed-plus");for(var r=t.getAttribute("data-id"),a=[],s=0;s<e.length;s++){var o=e[s].getAttribute("id");a.push(o),r==a[s]&&e[s].classList.toggle("action")}})},m=!0,A=!1,x=void 0;try{for(var S,b=t[Symbol.iterator]();!(m=(S=b.next()).done);m=!0){g(S.value)}}catch(e){A=!0,x=e}finally{try{!m&&b.return&&b.return()}finally{if(A)throw x}}for(var E=function(e){var t=r[e].offsetHeight,a=r[e].children;paragArr=[];for(var s=0;s<a.length;s++){var o=a[s].offsetHeight;paragArr.push(o)}for(var i=paragArr.reduce(function(e,t){return e+t}),c=function(a){t<i&&e==a?n[a].onclick=function(){n[a].classList.toggle("pressed-more");var s=getComputedStyle(r[e]).height;if(t+"px"==s)r[e].style.height=i+"px";else if(t+"px"<s)r[e].style.height=t+"px"}:i<=t&&e==a&&(n[a].style.display="none")},l=0;l<n.length;l++)c(l)},q=0;q<r.length;q++)E(q);for(var L=function(e){a[e].querySelector(".next-btn").addEventListener("click",function(t){t.preventDefault(),a[e].classList.add("show-info")}),a[e].addEventListener("mouseleave",function(t){t.preventDefault(),a[e].classList.remove("show-info")})},T=0;T<a.length;T++)L(T)};var patyBox=document.querySelectorAll(".paty-box"),patyDateEls=document.querySelectorAll(".paty-dat"),patyContEl=document.querySelectorAll(".paty-content"),patyParagEl=document.querySelectorAll(".paty-text"),patyPriceEl=document.querySelectorAll(".paty-tag"),patyAddBtn=document.querySelectorAll(".paty-add"),nextBlocks=document.querySelectorAll(".next-blk"),coursesDom=document.querySelector(".courses"),eventsData=new XMLHttpRequest;eventsData.open("GET","../json/cards.json",!0),eventsData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(eventsData.responseText);renderEvents(e),renderParagraphs(e),renderComingEvents(e),renderContactBtn(e),addEventBtnVal(e)}},eventsData.send();var renderEvents=function(e){e.forEach(function(e,t,n){patyBox[t].insertAdjacentHTML("afterbegin",'<img src="'+e.img+'" alt="poster" title="poster">'),patyDateEls[t].insertAdjacentHTML("afterbegin","<span>"+e.date+"</span>\n       <time>"+e.time+"</time>"),patyContEl[t].insertAdjacentHTML("afterbegin","<h3>"+e.capt+"</h3>"),patyPriceEl[t].insertAdjacentHTML("beforeend","<span>"+e.price+"<sup>€</sup></span>")})},renderParagraphs=function(e){e.forEach(function(e,t,n){for(var r in e.text[0])patyParagEl[t].setAttribute("style","height: 200px"),patyParagEl[t].innerHTML+='<li class="liTxt">'+e.text[0][r]+"</li>"})},renderContactBtn=function(e){e.forEach(function(e,t,n){var r="";for(var a in e.btns[0])r+='<a href="'+e.btns[0][a]+'" title="'+e.btns[0][a]+'">\n          <svg role="img" class="icon-svg">\n            <use xlink:href="./img/icons/icons.svg#'+a+'"></use>\n        </svg>\n      </a>';patyAddBtn[t].innerHTML=r})},addEventBtnVal=function(e){e.forEach(function(e,t,n){patyAddBtn[t].querySelectorAll("a").forEach(function(t,n,r){var a=t.getAttribute("title");-1!=a.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=a.search("358")&&(t.href="tel:"+e.btns[0].tel)})})},renderComingEvents=function(e){e.forEach(function(e,t,n){var r=n[t].events[0],a="";for(var s in r)a+='\n      <div class="next-box" style="background-image: url('+r[s][0].eventPoster+')">\n        <span class="next-date">\n          <span>'+r[s][0].eventDate+"</span>"+r[s][0].eventMonth+"\n        </span>\n        <h5>"+r[s][0].eventCap+'</h5>\n        <span class="next-btn">'+r[s][0].eventBtn+"</span>\n        <p>"+r[s][0].eventCont+"</p> \n      </div>";nextBlocks[t].innerHTML=a})},coursesData=new XMLHttpRequest;coursesData.open("GET","../json/courses.json",!0),coursesData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(coursesData.responseText);renderDom(e),renderLi(e),renderBtns(e),addExtraVal(e)}},coursesData.send();var renderDom=function(e){var t="";e.forEach(function(e,n,r){t+='<div class="flex-crs">\n      <div class="crs-dat">\n        <span class="crs-cls">'+e.Cls+'</span> \n        <img src="'+e.Img+'" alt="courses" title="poster">\n      </div>\n      <div class="crs-cont">\n        <h4 class="crs-name">'+e.Name+'</h4>\n        <ul class="crs-graphs"></ul>\n      </div>\n      <div class="crs-opt">\n        <div class="crs-btns"></div>\n        <div class="for-price">\n          <span class="crs-tip">'+e.Period+'</span>\n          <span class="crs-price">'+e.Price+"<sup>€</sup></span>\n        </div>\n      </div>\n    </div>"}),coursesDom.innerHTML+=t},renderLi=function(e){var t=document.querySelectorAll(".crs-graphs");e.forEach(function(e,n,r){for(var a in e.Txt[0])t[n].innerHTML+="<li>"+e.Txt[0][a]+"</li>"})},renderBtns=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,r){var a="";for(var s in e.Btns[0])a+='<a href="'+e.Btns[0][s]+'" title="'+e.Btns[0][s]+'">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/icons/icons.svg#'+s+'"></use>\n          </svg>\n        </a>';t[n].innerHTML=a})},addExtraVal=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,r){t[n].querySelectorAll("a").forEach(function(t,n,r){var a=t.getAttribute("title");-1!=a.search("@")&&(t.href="mailto:"+e.Btns[0].mail),-1!=a.search("358")&&(t.href="tel:"+e.Btns[0].tel)})})};window.onload=function(){var e=document.querySelectorAll(".iv-box"),t=document.querySelectorAll(".iv-dat"),n=document.querySelectorAll(".iv-text"),r=document.querySelectorAll(".iv-tag"),a=document.querySelectorAll(".link-map"),s=document.querySelectorAll(".link-tel"),o=document.querySelectorAll(".link-soc"),i=new XMLHttpRequest;i.open("GET","../json/cart.json",!0),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(i.responseText);c(e)}},i.send();var c=function(i){var c=[];for(var l in i){c.push(l);for(var u=[],d=0;d<e.length;d++)if(u.push(d),c[l]==u[d]){e[d].insertAdjacentHTML("afterbegin",'<img src="'+i[l].ivImg+'" alt="ivent">'),t[d].insertAdjacentHTML("afterbegin","<span>"+i[l].ivDate+"</span>"),t[d].insertAdjacentHTML("beforeend","<time>"+i[l].ivTime+"</time>"),t[d].insertAdjacentHTML("afterend","<h3>"+i[l].ivCap+"</h3>");var v=i[l].ivCont[0];for(var f in v)console.log(v[f]),n[d].innerHTML+="<li>"+v[f]+"</li>";r[d].insertAdjacentHTML("beforeend","<span>"+i[l].ivPrice+"<sup>€</sup></span>"),a[d].href=""+i[l].ivMap,s[d].href="tel:"+i[l].ivTel,o[d].href=""+i[l].ivSoc}}}};