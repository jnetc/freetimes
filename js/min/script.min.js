"use strict";window.onload=function(){var e=document.querySelectorAll(".paty-add"),t=document.querySelectorAll(".plus-bt"),n=document.querySelectorAll(".more-bt"),r=document.querySelectorAll(".paty-text"),a=document.querySelectorAll(".next-box"),s=(document.querySelectorAll(".teammate"),1),o=1,i=!0,l=!1,c=void 0;try{for(var u,d=e[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){u.value.setAttribute("id","tag"+s);s++}}catch(e){l=!0,c=e}finally{try{!i&&d.return&&d.return()}finally{if(l)throw c}}var v=!0,f=!1,m=void 0;try{for(var p,g=t[Symbol.iterator]();!(v=(p=g.next()).done);v=!0){p.value.setAttribute("data-id","tag"+o);o++}}catch(e){f=!0,m=e}finally{try{!v&&g.return&&g.return()}finally{if(f)throw m}}var h=function(t){t.addEventListener("click",function(){t.classList.toggle("pressed-plus");for(var n=t.getAttribute("data-id"),r=[],a=0;a<e.length;a++){var s=e[a].getAttribute("id");r.push(s),n==r[a]&&e[a].classList.toggle("action")}})},y=!0,b=!1,A=void 0;try{for(var x,E=t[Symbol.iterator]();!(y=(x=E.next()).done);y=!0){h(x.value)}}catch(e){b=!0,A=e}finally{try{!y&&E.return&&E.return()}finally{if(b)throw A}}for(var S=function(e){for(var t=r[e].offsetHeight,a=r[e].children,s=[],o=0;o<a.length;o++){var i=a[o].offsetHeight;s.push(i)}for(var l=s.reduce(function(e,t){return e+t}),c=function(a){t<l&&e==a?n[a].onclick=function(){n[a].classList.toggle("pressed-more");var s=getComputedStyle(r[e]).height;if(t+"px"==s)r[e].style.height=l+"px";else if(t+"px"<s)r[e].style.height=t+"px"}:l<=t&&e==a&&(n[a].style.display="none")},u=0;u<n.length;u++)c(u)},T=0;T<r.length;T++)S(T);for(var q=function(e){a[e].querySelector(".next-btn").addEventListener("click",function(){console.log(111),a[e].classList.add("show-info")}),a[e].addEventListener("mouseleave",function(){a[e].classList.remove("show-info")})},L=0;L<a.length;L++)q(L)};var patyBox=document.querySelectorAll(".paty-box"),patyDateEls=document.querySelectorAll(".paty-dat"),patyContEl=document.querySelectorAll(".paty-content"),patyParagEl=document.querySelectorAll(".paty-text"),patyPriceEl=document.querySelectorAll(".paty-tag"),patyAddBtn=document.querySelectorAll(".paty-add"),nextBlocks=document.querySelectorAll(".next-blk"),coursesDom=document.querySelector(".courses"),OurTeamDom=document.querySelector(".team-blk"),eventsData=new XMLHttpRequest;eventsData.open("GET","../json/cards.json",!0),eventsData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(eventsData.responseText);renderEvents(e),renderEventParagraphs(e),renderComingEvents(e),renderEventBtns(e),addEventBtnVal(e)}},eventsData.send();var renderEvents=function(e){e.forEach(function(e,t,n){patyBox[t].insertAdjacentHTML("afterbegin",'<img src="'+e.img+'" alt="poster" title="poster">'),patyDateEls[t].insertAdjacentHTML("afterbegin","<span>"+e.date+"</span>\n       <time>"+e.time+"</time>"),patyContEl[t].insertAdjacentHTML("afterbegin","<h3>"+e.capt+"</h3>"),patyPriceEl[t].insertAdjacentHTML("beforeend","<span>"+e.price+"<sup>€</sup></span>")})},renderEventParagraphs=function(e){e.forEach(function(e,t,n){for(var r in e.text[0])patyParagEl[t].setAttribute("style","height: 200px"),patyParagEl[t].innerHTML+='<li class="liTxt">'+e.text[0][r]+"</li>"})},renderEventBtns=function(e){e.forEach(function(e,t,n){var r="";for(var a in e.btns[0])r+='<a href="'+e.btns[0][a]+'" title="'+e.btns[0][a]+'">\n          <svg role="img" class="icon-svg">\n            <use xlink:href="./img/svg/icons.svg#'+a+'"></use>\n        </svg>\n      </a>';patyAddBtn[t].innerHTML=r})},addEventBtnVal=function(e){e.forEach(function(e,t,n){patyAddBtn[t].querySelectorAll("a").forEach(function(t,n,r){var a=t.getAttribute("title");-1!=a.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=a.search("358")&&(t.href="tel:"+e.btns[0].tel)})})},renderComingEvents=function(e){e.forEach(function(e,t,n){var r=n[t].events[0],a="";for(var s in r)a+='\n      <div class="next-box" style="background-image: url('+r[s][0].eventPoster+')">\n        <span class="next-date">\n          <span>'+r[s][0].eventDate+"</span>"+r[s][0].eventMonth+"\n        </span>\n        <h5>"+r[s][0].eventCap+'</h5>\n        <span class="next-btn show-btn">'+r[s][0].eventBtn+"</span>\n        <p>"+r[s][0].eventCont+"</p> \n      </div>";nextBlocks[t].innerHTML=a})},coursesData=new XMLHttpRequest;coursesData.open("GET","../json/courses.json",!0),coursesData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(coursesData.responseText);renderCourses(e),renderCourseParagraphs(e),renderCourseBtns(e),addExtraCourseVal(e)}},coursesData.send();var renderCourses=function(e){var t="";e.forEach(function(e,n,r){t+='<div class="flex-crs">\n      <div class="crs-dat">\n        <span class="crs-cls">'+e.cls+'</span> \n        <img src="'+e.img+'" alt="courses" title="poster">\n      </div>\n      <div class="crs-cont">\n        <h4>'+e.name+'</h4>\n        <ul class="crs-graphs"></ul>\n      </div>\n      <div class="crs-opt">\n        <div class="crs-btns"></div>\n        <div class="for-price">\n          <span class="crs-tip">'+e.period+'</span>\n          <span class="crs-price">'+e.price+"<sup>€</sup></span>\n        </div>\n      </div>\n    </div>"}),coursesDom.innerHTML+=t},renderCourseParagraphs=function(e){var t=document.querySelectorAll(".crs-graphs");e.forEach(function(e,n,r){for(var a in e.txt[0])t[n].innerHTML+="<li>"+e.txt[0][a]+"</li>"})},renderCourseBtns=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,r){var a="";for(var s in e.btns[0])a+='<a href="'+e.btns[0][s]+'" title="'+e.btns[0][s]+'">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+s+'"></use>\n          </svg>\n        </a>';t[n].innerHTML=a})},addExtraCourseVal=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,r){t[n].querySelectorAll("a").forEach(function(t,n,r){var a=t.getAttribute("title");-1!=a.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=a.search("358")&&(t.href="tel:"+e.btns[0].tel)})})},teamData=new XMLHttpRequest;teamData.open("GET","../json/team.json",!0),teamData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(teamData.responseText);renderTeam(e),renderTeamBtns(e),addExtraTeamVal(e)}},teamData.send();var renderTeam=function(e){var t="";e.forEach(function(e,n,r){t+='<div class="teammate">\n      <figure>\n        <img src="'+e.img+'" alt="'+e.name+'" title="'+e.name+'">\n        <svg role="img">\n          <use xlink:href="./img/svg/fts-elem.svg#border-up"></use>\n        </svg>\n        <svg role="img">\n          <use xlink:href="./img/svg/fts-elem.svg#border-down"></use>\n        </svg>\n      </figure>\n      <h5>'+e.name+"</h5>\n      <h6>"+e.post+'</h6>\n      <svg role="img" class="stars">\n        <use xlink:href="./img/svg/fts-elem.svg#stars"></use>\n      </svg>\n      <div class="team-btns"></div>\n    </div>'}),OurTeamDom.innerHTML=t},renderTeamBtns=function(e){e.forEach(function(e,t,n){var r=document.querySelectorAll(".team-btns"),a="";for(var s in e.btns[0])a+='<a href="'+e.btns[0][s]+'" title="'+e.btns[0][s]+'">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+s+'"></use>\n          </svg>\n        </a>';r[t].innerHTML=a})},addExtraTeamVal=function(e){var t=document.querySelectorAll(".team-btns");e.forEach(function(e,n,r){t[n].querySelectorAll("a").forEach(function(t,n,r){var a=t.getAttribute("title");-1!=a.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=a.search("358")&&(t.href="tel:"+e.btns[0].tel)})})};window.onload=function(){var e=document.querySelectorAll(".iv-box"),t=document.querySelectorAll(".iv-dat"),n=document.querySelectorAll(".iv-text"),r=document.querySelectorAll(".iv-tag"),a=document.querySelectorAll(".link-map"),s=document.querySelectorAll(".link-tel"),o=document.querySelectorAll(".link-soc"),i=new XMLHttpRequest;i.open("GET","../json/cart.json",!0),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(i.responseText);l(e)}},i.send();var l=function(i){var l=[];for(var c in i){l.push(c);for(var u=[],d=0;d<e.length;d++)if(u.push(d),l[c]==u[d]){e[d].insertAdjacentHTML("afterbegin",'<img src="'+i[c].ivImg+'" alt="ivent">'),t[d].insertAdjacentHTML("afterbegin","<span>"+i[c].ivDate+"</span>"),t[d].insertAdjacentHTML("beforeend","<time>"+i[c].ivTime+"</time>"),t[d].insertAdjacentHTML("afterend","<h3>"+i[c].ivCap+"</h3>");var v=i[c].ivCont[0];for(var f in v)console.log(v[f]),n[d].innerHTML+="<li>"+v[f]+"</li>";r[d].insertAdjacentHTML("beforeend","<span>"+i[c].ivPrice+"<sup>€</sup></span>"),a[d].href=""+i[c].ivMap,s[d].href="tel:"+i[c].ivTel,o[d].href=""+i[c].ivSoc}}}};