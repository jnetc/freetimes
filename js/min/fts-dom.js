"use strict";var eventsData=new XMLHttpRequest;eventsData.open("GET","../json/cards.json",!0),eventsData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(eventsData.responseText);renderEvents(e),renderEventParagraphs(e),renderComingEvents(e),renderEventBtns(e),addEventBtnVal(e)}},eventsData.send();var patyBox=document.querySelectorAll(".paty-box"),patyDateEls=document.querySelectorAll(".paty-dat"),patyTimeEls=document.querySelectorAll(".paty-time"),patyContEl=document.querySelectorAll(".paty-content"),patyParagEl=document.querySelectorAll(".paty-text"),patyPriceEl=document.querySelectorAll(".paty-tag"),moreBts=document.querySelectorAll(".more-bt"),renderEvents=function(e){e.forEach(function(e,t,n){patyBox[t].insertAdjacentHTML("afterbegin",'<img src="'+e.img+'" alt="poster" title="poster">'),patyDateEls[t].innerText=e.date,patyDateEls[t].insertAdjacentHTML("beforeend","<span>"+e.month+"</span>"),patyTimeEls[t].innerText=e.time,patyContEl[t].insertAdjacentHTML("afterbegin","<h3>"+e.capt+"</h3>"),patyPriceEl[t].insertAdjacentHTML("beforeend","<span>"+e.price+"<sup>€</sup></span>")}),patyContEl[0].querySelector("h3").className="night-capt",patyContEl[1].querySelector("h3").className="day-capt"},renderEventParagraphs=function(e){for(var t=0;t<e.length;t++){var n=e[t];patyParagEl[t].setAttribute("style","max-height: 200px"),patyParagEl[t].innerHTML+="<pre>"+n.text+"</pre>"}for(var a=function(e){for(var t=getComputedStyle(patyParagEl[e]).getPropertyValue("max-height").substring(0,3),n=patyParagEl[e].scrollHeight,a=function(a){a==e&&t<n?moreBts[a].addEventListener("click",function(){moreBts[a].classList.toggle("pressed-more");var s=getComputedStyle(patyParagEl[e]).getPropertyValue("max-height").substring(0,3);s<n?patyParagEl[e].style.maxHeight=n.toString()+"px":s==n&&(patyParagEl[e].style.maxHeight=t+"px")}):a==e&&t>n&&(moreBts[a].style.display="none")},s=0;s<moreBts.length;s++)a(s)},s=0;s<patyParagEl.length;s++)a(s)},patyAddBtn=document.querySelectorAll(".paty-add"),renderEventBtns=function(e){e.forEach(function(e,t,n){var a="";for(var s in e.btns[0])a+='<a href="'+e.btns[0][s]+'" title="'+e.btns[0][s]+'" target="_blank">\n          <svg role="img" class="icon-svg">\n            <use xlink:href="./img/svg/icons.svg#'+s+'"></use>\n        </svg>\n      </a>';patyAddBtn[t].innerHTML=a})},addEventBtnVal=function(e){e.forEach(function(e,t,n){patyAddBtn[t].querySelectorAll("a").forEach(function(t,n,a){var s=t.getAttribute("title");-1!=s.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=s.search("358")&&(t.href="tel:"+e.btns[0].tel)})})},nextBlocks=document.querySelectorAll(".next-blk"),renderComingEvents=function(e){e.forEach(function(e,t,n){var a=n[t].events[0],s="";for(var r in a)s+='\n      <div class="next-box">\n        <span class="next-date">'+a[r][0].eDate+"\n          <span>"+a[r][0].eMonth+'</span>\n        </span>\n        <div>\n          <div class="next-poster" style="background-image: url('+a[r][0].ePoster+')">\n            <span class="next-btn">'+a[r][0].eBtn+'</span>\n          </div>\n          <svg role="img" class="next-stars">\n            <use xlink:href="./img/svg/fts-elem.svg#stars"></use>\n          </svg>\n          <h5>'+a[r][0].eCap+"</h5>\n          <p>"+a[r][0].eCont+"</p>\n        </div>\n      </div>";nextBlocks[t].innerHTML=s}),addClass()},addClass=function(){nextBlocks.forEach(function(e,t,n){for(var a=n[t].querySelectorAll(".next-box"),s=0;s<a.length;s++)0==t&&(a[s].className+=" night-next"),1==t&&(a[s].className+=" day-next")})},coursesData=new XMLHttpRequest;coursesData.open("GET","../json/courses.json",!0),coursesData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(coursesData.responseText);renderCourses(e),renderCourseParagraphs(e),renderCourseBtns(e),addExtraCourseVal(e)}},coursesData.send();var coursesDom=document.querySelector(".course-blk"),renderCourses=function(e){var t="";e.forEach(function(e,n,a){t+='<div class="flex-crs">\n      <div class="crs-dat">\n        <span class="crs-day">'+e.days+'</span>\n        <span class="crs-time">'+e.time+'</span>\n        <svg role="img" class="crs-svg">\n          <use xlink:href="./img/svg/icons.svg#clock"></use>\n        </svg>\n      </div>\n      <div class="crs-img">\n        <span class="crs-cls">'+e.cls+'</span> \n        <img src="'+e.img+'" alt="courses" title="poster">\n      </div>\n      <div class="crs-cont">\n        <h4>'+e.name+'</h4>\n        <ul class="crs-graphs" style="max-height: 115px"></ul>\n      </div>\n      <div class="crs-opt">\n        <div class="crs-btns"></div>\n        <div class="crs-more">\n          <span class="night-bt"></span>\n        </div>\n        <div class="for-price">\n          <span class="crs-tip">'+e.period+'</span>\n          <span class="crs-price">'+e.price+"<sup>€</sup></span>\n        </div>\n      </div>\n    </div>"}),coursesDom.innerHTML+=t},renderCourseParagraphs=function(e){for(var t=document.querySelectorAll(".crs-more span"),n=document.querySelectorAll(".crs-graphs"),a=0;a<e.length;a++){var s=e[a];n[a].innerHTML+="<pre>"+s.txt+"</pre>"}for(var r=function(e){for(var a=getComputedStyle(n[e]).getPropertyValue("max-height").substring(0,3),s=n[e].scrollHeight,r=0;r<t.length;r++){r==e&&a<s?t[r].addEventListener("click",function(){this.classList.toggle("pressed-more");var t=getComputedStyle(n[e]).getPropertyValue("max-height").substring(0,3);t<s?n[e].style.maxHeight=s.toString()+"px":t==s&&(n[e].style.maxHeight=a+"px")}):r==e&&a>s&&(t[r].parentElement.style.display="none")}},i=0;i<n.length;i++)r(i)},renderCourseBtns=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,a){var s="";for(var r in e.btns[0])s+='<a href="'+e.btns[0][r]+'" title="'+e.btns[0][r]+'" target="_blank">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+r+'"></use>\n          </svg>\n        </a>';t[n].innerHTML=s})},addExtraCourseVal=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,a){t[n].querySelectorAll("a").forEach(function(t,n,a){var s=t.getAttribute("title");-1!=s.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=s.search("358")&&(t.href="tel:"+e.btns[0].tel)})})},teamData=new XMLHttpRequest;teamData.open("GET","../json/team.json",!0),teamData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(teamData.responseText);renderTeam(e),renderTeamBtns(e),addExtraTeamVal(e)}},teamData.send();var ourTeamDom=document.querySelector(".team-blk"),renderTeam=function(e){var t="";e.forEach(function(e,n,a){t+='<div class="teammate">\n      <div class="team-img">\n        <img src="'+e.img+'" alt="'+e.name+'" title="'+e.name+'">\n        <svg role="img" class="team-img-svg">\n          <use xlink:href="./img/svg/fts-elem.svg#border-up"></use>\n        </svg>\n        <svg role="img" class="team-img-svg">\n          <use xlink:href="./img/svg/fts-elem.svg#border-down"></use>\n        </svg>\n      </div>\n      <span class="about-me">'+e.about+"</span>\n      <h5>"+e.name+"</h5>\n      <h6>"+e.post+'</h6>\n      <svg role="img" class="stars">\n        <use xlink:href="./img/svg/fts-elem.svg#stars"></use>\n      </svg>\n      <div class="team-btns"></div>\n    </div>'}),ourTeamDom.innerHTML=t},renderTeamBtns=function(e){e.forEach(function(e,t,n){var a=document.querySelectorAll(".team-btns"),s="";for(var r in e.btns[0])s+='<a href="'+e.btns[0][r]+'" title="'+e.btns[0][r]+'" target="_blank">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+r+'"></use>\n          </svg>\n        </a>';a[t].innerHTML=s})},addExtraTeamVal=function(e){var t=document.querySelectorAll(".team-btns");e.forEach(function(e,n,a){t[n].querySelectorAll("a").forEach(function(t,n,a){var s=t.getAttribute("title");-1!=s.search("@")&&(t.href="mailto:"+e.btns[0].mail),-1!=s.search("358")&&(t.href="tel:"+e.btns[0].tel)})})},linksData=new XMLHttpRequest;linksData.open("GET","../json/main.json",!0),linksData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(linksData.responseText);renderLinks(e)}},linksData.send();var mainTitle=document.querySelector("title"),mainTitleOg=document.querySelector('meta[property="og:title"]'),mainSiteNameOg=document.querySelector('meta[property="og:site_name"]'),mainDescriptOg=document.querySelector('meta[property="og:description"]'),mainDescript=document.querySelector('meta[name="description"]'),mainLinks=document.querySelectorAll(".menu-list li"),mainH2=document.querySelectorAll("h2"),mainIn=document.querySelectorAll(".paty-tag span:nth-of-type(1)"),partnerLinks=document.querySelector(".link-blk"),renderLinks=function(e){mainTitle.textContent=e.title,mainTitleOg.textContent=e.title,mainSiteNameOg.textContent=e.site_name,mainDescriptOg.textContent=e.description,mainDescript.textContent=e.description;for(var t=0;t<mainLinks.length;t++){var n=e.menu;for(var a in n)t.toString()==a.substring(4)&&(mainLinks[t].textContent=n[a])}for(var s=0;s<mainH2.length;s++){var r=e.h2;for(var i in r)s.toString()==i.substring(4)&&(mainH2[s].textContent=r[i])}for(var o=0;o<mainIn.length;o++)mainIn[o].textContent=e.in;var l="",c=e.partner[0];for(var u in c){var m=c[u][0];l+='<a href="'+m.href+'" target="_blank">\n        <img src="'+m.img+'" alt="'+m.href+'">\n     </a>'}partnerLinks.innerHTML=l};