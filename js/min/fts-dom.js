"use strict";var patyBox=document.querySelectorAll(".paty-box"),patyDateEls=document.querySelectorAll(".paty-dat"),patyTimeEls=document.querySelectorAll(".paty-time"),patyContEl=document.querySelectorAll(".paty-content"),patyParagEl=document.querySelectorAll(".paty-text"),patyPriceEl=document.querySelectorAll(".paty-tag"),patyAddBtn=document.querySelectorAll(".paty-add"),nextBlocks=document.querySelectorAll(".next-blk"),coursesDom=document.querySelector(".course-blk"),ourTeamDom=document.querySelector(".team-blk"),mainTitle=document.querySelector("title"),mainTitleOg=document.querySelector('meta[property="og:title"]'),mainSiteNameOg=document.querySelector('meta[property="og:site_name"]'),mainDescriptOg=document.querySelector('meta[property="og:description"]'),mainDescript=document.querySelector('meta[name="description"]'),mainLinks=document.querySelectorAll(".menu-list li"),mainH2=document.querySelectorAll("h2"),mainIn=document.querySelectorAll(".paty-tag span:nth-of-type(1)"),partnerLinks=document.querySelector(".link-blk"),eventsData=new XMLHttpRequest;eventsData.open("GET","../json/cards.json",!0),eventsData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(eventsData.responseText);renderEvents(e),renderEventParagraphs(e),renderComingEvents(e),renderEventBtns(e),addEventBtnVal(e)}},eventsData.send();var renderEvents=function(e){e.forEach(function(e,n,t){patyBox[n].insertAdjacentHTML("afterbegin",'<img src="'+e.img+'" alt="poster" title="poster">'),patyDateEls[n].innerText=e.date,patyDateEls[n].insertAdjacentHTML("beforeend","<span>"+e.month+"</span>"),patyTimeEls[n].innerText=e.time,patyContEl[n].insertAdjacentHTML("afterbegin","<h3>"+e.capt+"</h3>"),patyPriceEl[n].insertAdjacentHTML("beforeend","<span>"+e.price+"<sup>€</sup></span>")}),patyContEl[0].querySelector("h3").className="night-capt",patyContEl[1].querySelector("h3").className="day-capt"},renderEventParagraphs=function(e){e.forEach(function(e,n,t){for(var a in e.text[0])patyParagEl[n].setAttribute("style","height: 200px"),patyParagEl[n].innerHTML+='<li class="liTxt">'+e.text[0][a]+"</li>"})},renderEventBtns=function(e){e.forEach(function(e,n,t){var a="";for(var s in e.btns[0])a+='<a href="'+e.btns[0][s]+'" title="'+e.btns[0][s]+'">\n          <svg role="img" class="icon-svg">\n            <use xlink:href="./img/svg/icons.svg#'+s+'"></use>\n        </svg>\n      </a>';patyAddBtn[n].innerHTML=a})},addEventBtnVal=function(e){e.forEach(function(e,n,t){patyAddBtn[n].querySelectorAll("a").forEach(function(n,t,a){var s=n.getAttribute("title");-1!=s.search("@")&&(n.href="mailto:"+e.btns[0].mail),-1!=s.search("358")&&(n.href="tel:"+e.btns[0].tel)})})},renderComingEvents=function(e){e.forEach(function(e,n,t){var a=t[n].events[0],s="";for(var r in a)s+='\n      <div class="next-box" style="background-image: url('+a[r][0].ePoster+')">\n        <span class="next-date">'+a[r][0].eDate+"\n          <span>"+a[r][0].eMonth+"</span>\n        </span>\n        <div>\n          <h5>"+a[r][0].eCap+'</h5>\n          <span class="next-btn">'+a[r][0].eBtn+"</span>\n          <p>"+a[r][0].eCont+"</p>\n        </div>\n      </div>";nextBlocks[n].innerHTML=s}),addClassNextDates(),addClassNextButtons()},addClassNextDates=function(){nextBlocks.forEach(function(e,n,t){for(var a=t[n].querySelectorAll(".next-date"),s=0;s<a.length;s++)0==n&&(a[s].className+=" night-next"),1==n&&(a[s].className+=" day-next")})},addClassNextButtons=function(){nextBlocks.forEach(function(e,n,t){for(var a=t[n].querySelectorAll(".next-btn"),s=0;s<a.length;s++)0==n&&(a[s].className+=" show-night-btn"),1==n&&(a[s].className+=" show-day-btn")})},coursesData=new XMLHttpRequest;coursesData.open("GET","../json/courses.json",!0),coursesData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(coursesData.responseText);renderCourses(e),renderCourseParagraphs(e),renderCourseBtns(e),addExtraCourseVal(e)}},coursesData.send();var renderCourses=function(e){var n="";e.forEach(function(e,t,a){n+='<div class="flex-crs">\n      <div class="crs-dat">\n        <span class="crs-day">'+e.days+'</span>\n        <span class="crs-time">'+e.time+'</span>\n        <svg role="img" class="crs-svg">\n          <use xlink:href="./img/svg/icons.svg#clock"></use>\n        </svg>\n      </div>\n      <div class="crs-img">\n        <span class="crs-cls">'+e.cls+'</span> \n        <img src="'+e.img+'" alt="courses" title="poster">\n      </div>\n      <div class="crs-cont">\n        <h4>'+e.name+'</h4>\n        <ul class="crs-graphs" style="max-height: 115px"></ul>\n      </div>\n      <div class="crs-opt">\n        <div class="crs-btns"></div>\n        <div class="crs-more">\n          <span class="night-bt"></span>\n        </div>\n        <div class="for-price">\n          <span class="crs-tip">'+e.period+'</span>\n          <span class="crs-price">'+e.price+"<sup>€</sup></span>\n        </div>\n      </div>\n    </div>"}),coursesDom.innerHTML+=n},renderCourseParagraphs=function(e){var n=document.querySelectorAll(".crs-graphs");e.forEach(function(e,t,a){for(var s in e.txt[0])n[t].innerHTML+="<li>"+e.txt[0][s]+"</li>"})},renderCourseBtns=function(e){var n=document.querySelectorAll(".crs-btns");e.forEach(function(e,t,a){var s="";for(var r in e.btns[0])s+='<a href="'+e.btns[0][r]+'" title="'+e.btns[0][r]+'">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+r+'"></use>\n          </svg>\n        </a>';n[t].innerHTML=s})},addExtraCourseVal=function(e){var n=document.querySelectorAll(".crs-btns");e.forEach(function(e,t,a){n[t].querySelectorAll("a").forEach(function(n,t,a){var s=n.getAttribute("title");-1!=s.search("@")&&(n.href="mailto:"+e.btns[0].mail),-1!=s.search("358")&&(n.href="tel:"+e.btns[0].tel)})})},teamData=new XMLHttpRequest;teamData.open("GET","../json/team.json",!0),teamData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(teamData.responseText);renderTeam(e),renderTeamBtns(e),addExtraTeamVal(e)}},teamData.send();var renderTeam=function(e){var n="";e.forEach(function(e,t,a){n+='<div class="teammate">\n      <div class="team-img">\n        <img src="'+e.img+'" alt="'+e.name+'" title="'+e.name+'">\n        <svg role="img" class="team-img-svg">\n          <use xlink:href="./img/svg/fts-elem.svg#border-up"></use>\n        </svg>\n        <svg role="img" class="team-img-svg">\n          <use xlink:href="./img/svg/fts-elem.svg#border-down"></use>\n        </svg>\n      </div>\n      <span class="about-me">'+e.about+"</span>\n      <h5>"+e.name+"</h5>\n      <h6>"+e.post+'</h6>\n      <svg role="img" class="stars">\n        <use xlink:href="./img/svg/fts-elem.svg#stars"></use>\n      </svg>\n      <div class="team-btns"></div>\n    </div>'}),ourTeamDom.innerHTML=n},renderTeamBtns=function(e){e.forEach(function(e,n,t){var a=document.querySelectorAll(".team-btns"),s="";for(var r in e.btns[0])s+='<a href="'+e.btns[0][r]+'" title="'+e.btns[0][r]+'">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+r+'"></use>\n          </svg>\n        </a>';a[n].innerHTML=s})},addExtraTeamVal=function(e){var n=document.querySelectorAll(".team-btns");e.forEach(function(e,t,a){n[t].querySelectorAll("a").forEach(function(n,t,a){var s=n.getAttribute("title");-1!=s.search("@")&&(n.href="mailto:"+e.btns[0].mail),-1!=s.search("358")&&(n.href="tel:"+e.btns[0].tel)})})},linksData=new XMLHttpRequest;linksData.open("GET","../json/main.json",!0),linksData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(linksData.responseText);renderLinks(e)}},linksData.send();var renderLinks=function(e){partnerLinks.innerHTML=c,mainTitle.innerText=e.title,mainTitleOg.innerText=e.title,mainSiteNameOg.innerText=e.site_name,mainDescriptOg.innerText=e.description,mainDescript.innerText=e.description;for(var n=0;n<mainLinks.length;n++){var t=e.menu;for(var a in t)n.toString()==a.substring(4)&&(mainLinks[n].innerText=t[a])}for(var s=0;s<mainH2.length;s++){var r=e.h2;for(var i in r)s.toString()==i.substring(4)&&(mainH2[s].innerText=r[i])}for(var o=0;o<mainIn.length;o++)mainIn[o].innerText=e.in;var c="",l=e.partner[0];for(var u in l){var m=l[u][0];c+='<a href="'+m.href+'">\n        <img src="'+m.img+'" alt="'+m.href+'">\n     </a>'}partnerLinks.innerHTML=c};